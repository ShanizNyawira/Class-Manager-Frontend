{"ast":null,"code":"var _jsxFileName = \"/home/kimotho/Desktop/class-management-system (1)/class-management-system/src/components/Page/Courses/EditCourse.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Edit(_ref) {\n  _s();\n  let {\n    courses,\n    selectedCourse,\n    setCourses,\n    setIsEditing\n  } = _ref;\n  const id = selectedCourse.id;\n  const [courseName, setCourseName] = useState(selectedCourse.course_name);\n  const [courseCode, setCourseCode] = useState(selectedCourse.course_code);\n  const [courseDescription, setCourseDescription] = useState(selectedCourse.course_description);\n  const [teachersId, setTeachersId] = useState(selectedCourse.teacher_id);\n  const [studentId, setStudentId] = useState(selectedCourse.student_id);\n  const handleUpdate = e => {\n    e.preventDefault();\n    if (!courseName || !courseCode || !courseDescription || !teachersId || !studentId) {\n      return Swal.fire({\n        icon: 'error',\n        title: 'Error!',\n        text: 'All fields are required.',\n        showConfirmButton: true\n      });\n    }\n    const course = {\n      course_name: courseName,\n      course_code: courseCode,\n      course_description: courseDescription,\n      teacher_id: teachersId,\n      student_id: studentId\n    };\n    fetch('http://localhost:9292/courses/' + selectedCourse.id, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(course)\n    }).then(res => res.json()).then(data => {\n      const index = courses.findIndex(item => item.id === selectedCourse.id);\n      if (index === -1) {\n        setCourses([...courses, data]);\n        return;\n      }\n      setCourses([...courses.slice(0, index), data, ...courses.slice(index + 1)]);\n    }).catch(e => {\n      console.error(e);\n      Swal.fire({\n        icon: 'warning',\n        title: 'Error',\n        text: 'Sorry, something went wrong please try again later',\n        showConfirmButton: false,\n        timer: 1500\n      });\n    });\n    setIsEditing(false);\n    Swal.fire({\n      icon: 'success',\n      title: 'Updated!',\n      text: `${course.courseName}'s data has been updated.`,\n      showConfirmButton: false,\n      timer: 1500\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"small-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleUpdate,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Edit Course\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"courseName\",\n        children: \"Course Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"courseName\",\n        type: \"text\",\n        name: \"courseName\",\n        value: courseName,\n        onChange: e => setCourseName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"courseCode\",\n        children: \"Course code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"courseCode\",\n        type: \"number\",\n        name: \"courseCode\",\n        value: courseCode,\n        onChange: e => setCourseCode(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"courseDescription\",\n        children: \"Course Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"courseDescription\",\n        type: \"text\",\n        name: \"courseDescription\",\n        value: courseDescription,\n        onChange: e => setCourseDescription(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"teachersId\",\n        children: \"Teachers Id \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"teachersId\",\n        type: \"number\",\n        name: \"teachersId\",\n        value: teachersId,\n        onChange: e => setTeachersId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"studentId\",\n        children: \"Student Id\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"studentId\",\n        type: \"number\",\n        name: \"studentId\",\n        value: studentId,\n        onChange: e => setStudentId(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            marginLeft: '12px'\n          },\n          className: \"muted-button\",\n          type: \"button\",\n          value: \"Cancel\",\n          onClick: () => setIsEditing(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n_s(Edit, \"VHKJYXDKyGCcypS/qZXs0Wd33rM=\");\n_c = Edit;\nexport default Edit;\nvar _c;\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"names":["React","useState","Swal","Edit","courses","selectedCourse","setCourses","setIsEditing","id","courseName","setCourseName","course_name","courseCode","setCourseCode","course_code","courseDescription","setCourseDescription","course_description","teachersId","setTeachersId","teacher_id","studentId","setStudentId","student_id","handleUpdate","e","preventDefault","fire","icon","title","text","showConfirmButton","course","fetch","method","headers","body","JSON","stringify","then","res","json","data","index","findIndex","item","slice","catch","console","error","timer","target","value","marginTop","marginLeft"],"sources":["/home/kimotho/Desktop/class-management-system (1)/class-management-system/src/components/Page/Courses/EditCourse.js"],"sourcesContent":["import React, {useState} from 'react';\nimport Swal from 'sweetalert2';\n\nfunction Edit({courses, selectedCourse, setCourses, setIsEditing}) {\n  const id = selectedCourse.id;\n\n  const [courseName, setCourseName] = useState(selectedCourse.course_name);\n  const [courseCode, setCourseCode] = useState(selectedCourse.course_code);\n  const [courseDescription, setCourseDescription] = useState(\n    selectedCourse.course_description,\n  );\n  const [teachersId, setTeachersId] = useState(selectedCourse.teacher_id);\n  const [studentId, setStudentId] = useState(selectedCourse.student_id);\n\n  const handleUpdate = (e) => {\n    e.preventDefault();\n\n    if (\n      !courseName ||\n      !courseCode ||\n      !courseDescription ||\n      !teachersId ||\n      !studentId\n    ) {\n      return Swal.fire({\n        icon: 'error',\n        title: 'Error!',\n        text: 'All fields are required.',\n        showConfirmButton: true,\n      });\n    }\n\n    const course = {\n      course_name: courseName,\n      course_code: courseCode,\n      course_description: courseDescription,\n      teacher_id: teachersId,\n      student_id: studentId,\n    };\n\n    fetch('http://localhost:9292/courses/' + selectedCourse.id, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(course),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        const index = courses.findIndex(\n          (item) => item.id === selectedCourse.id,\n        );\n        if (index === -1) {\n          setCourses([...courses, data]);\n          return;\n        }\n        setCourses([\n          ...courses.slice(0, index),\n          data,\n          ...courses.slice(index + 1),\n        ]);\n      })\n      .catch((e) => {\n        console.error(e);\n        Swal.fire({\n          icon: 'warning',\n          title: 'Error',\n          text: 'Sorry, something went wrong please try again later',\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      });\n\n    setIsEditing(false);\n\n    Swal.fire({\n      icon: 'success',\n      title: 'Updated!',\n      text: `${course.courseName}'s data has been updated.`,\n      showConfirmButton: false,\n      timer: 1500,\n    });\n  };\n\n  return (\n    <div className=\"small-container\">\n      <form onSubmit={handleUpdate}>\n        <h1>Edit Course</h1>\n        <label htmlFor=\"courseName\">Course Name</label>\n        <input\n          id=\"courseName\"\n          type=\"text\"\n          name=\"courseName\"\n          value={courseName}\n          onChange={(e) => setCourseName(e.target.value)}\n        />\n        <label htmlFor=\"courseCode\">Course code</label>\n        <input\n          id=\"courseCode\"\n          type=\"number\"\n          name=\"courseCode\"\n          value={courseCode}\n          onChange={(e) => setCourseCode(e.target.value)}\n        />\n        <label htmlFor=\"courseDescription\">Course Description</label>\n        <input\n          id=\"courseDescription\"\n          type=\"text\"\n          name=\"courseDescription\"\n          value={courseDescription}\n          onChange={(e) => setCourseDescription(e.target.value)}\n        />\n        <label htmlFor=\"teachersId\">Teachers Id </label>\n        <input\n          id=\"teachersId\"\n          type=\"number\"\n          name=\"teachersId\"\n          value={teachersId}\n          onChange={(e) => setTeachersId(e.target.value)}\n        />\n        <label htmlFor=\"studentId\">Student Id</label>\n        <input\n          id=\"studentId\"\n          type=\"number\"\n          name=\"studentId\"\n          value={studentId}\n          onChange={(e) => setStudentId(e.target.value)}\n        />\n        <div style={{marginTop: '30px'}}>\n          <input type=\"submit\" value=\"Update\" />\n          <input\n            style={{marginLeft: '12px'}}\n            className=\"muted-button\"\n            type=\"button\"\n            value=\"Cancel\"\n            onClick={() => setIsEditing(false)}\n          />\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Edit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}